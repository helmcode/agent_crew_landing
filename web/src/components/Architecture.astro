---
---

<section id="architecture" class="py-24 sm:py-32" style="background-color: #0a0f1e;">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="text-center mb-16">
      <span class="text-xs font-semibold tracking-widest uppercase text-blue-400 mb-4 block">Under the Hood</span>
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4">
        System <span class="gradient-text">Architecture</span>
      </h2>
      <p class="text-lg text-slate-400 max-w-2xl mx-auto">
        A clean, event-driven architecture where agents communicate asynchronously through a central message bus.
      </p>
    </div>

    <!-- Architecture diagram -->
    <div class="rounded-2xl border border-slate-800 p-8 sm:p-12 overflow-x-auto" style="background: linear-gradient(135deg, #0d1117, #111827);">

      <!-- Flow diagram -->
      <div class="flex items-start justify-start gap-0 min-w-max mx-auto lg:justify-center">

        <!-- Your Chat (User) -->
        <div class="flex flex-col items-center">
          <div class="w-24 sm:w-28 h-20 rounded-xl border flex flex-col items-center justify-center gap-1 px-2" style="background: rgba(59, 130, 246, 0.1); border-color: rgba(59, 130, 246, 0.4);">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#60a5fa" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
            <span class="text-blue-300 text-xs font-semibold text-center leading-tight">Your Chat</span>
          </div>
          <span class="text-slate-500 text-xs mt-2">User</span>
        </div>

        <!-- Arrow -->
        <div class="flex items-center h-20 px-1 sm:px-2">
          <div class="flex items-center">
            <div class="w-6 sm:w-10 h-px" style="background: linear-gradient(90deg, #3b82f6, #60a5fa);"></div>
            <svg width="8" height="8" viewBox="0 0 8 8" fill="#60a5fa"><path d="M0 0 L8 4 L0 8 Z"/></svg>
          </div>
        </div>

        <!-- API Server -->
        <div class="flex flex-col items-center">
          <div class="w-24 sm:w-28 h-20 rounded-xl border flex flex-col items-center justify-center gap-1 px-2" style="background: rgba(139, 92, 246, 0.1); border-color: rgba(139, 92, 246, 0.4);">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#a78bfa" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
              <rect x="2" y="3" width="20" height="14" rx="2"/>
              <path d="M8 21h8M12 17v4"/>
            </svg>
            <span class="text-violet-300 text-xs font-semibold text-center leading-tight">API Server</span>
          </div>
          <span class="text-slate-500 text-xs mt-2">Go / Fiber</span>
        </div>

        <!-- Arrow -->
        <div class="flex items-center h-20 px-1 sm:px-2">
          <div class="flex items-center">
            <div class="w-6 sm:w-10 h-px" style="background: linear-gradient(90deg, #8b5cf6, #a78bfa);"></div>
            <svg width="8" height="8" viewBox="0 0 8 8" fill="#a78bfa"><path d="M0 0 L8 4 L0 8 Z"/></svg>
          </div>
        </div>

        <!-- NATS Bus -->
        <div class="flex flex-col items-center">
          <div class="w-24 sm:w-28 h-20 rounded-xl border flex flex-col items-center justify-center gap-1 px-2" style="background: rgba(34, 211, 238, 0.1); border-color: rgba(34, 211, 238, 0.4);">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#22d3ee" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
            </svg>
            <span class="text-cyan-300 text-xs font-semibold text-center leading-tight">NATS Bus</span>
          </div>
          <span class="text-slate-500 text-xs mt-2">Message Bus</span>
        </div>

        <!-- Arrow to agents -->
        <div class="flex items-center h-20 px-1 sm:px-2">
          <div class="flex items-center">
            <div class="w-6 sm:w-10 h-px" style="background: linear-gradient(90deg, #22d3ee, #34d399);"></div>
            <svg width="8" height="8" viewBox="0 0 8 8" fill="#34d399"><path d="M0 0 L8 4 L0 8 Z"/></svg>
          </div>
        </div>

        <!-- Agents column -->
        <div class="flex flex-col gap-2">
          <!-- Leader Agent -->
          <div class="w-28 sm:w-36 h-16 rounded-xl border flex flex-col items-center justify-center gap-1 px-2" style="background: rgba(34, 197, 94, 0.12); border-color: rgba(34, 197, 94, 0.5);">
            <div class="flex items-center gap-1.5">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="#4ade80" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
              </svg>
              <span class="text-green-300 text-xs font-bold">Leader</span>
            </div>
            <span class="text-slate-400 text-xs">Claude Code</span>
          </div>

          <!-- Worker 1 -->
          <div class="w-28 sm:w-36 h-14 rounded-xl border flex flex-col items-center justify-center gap-0.5 px-2" style="background: rgba(59, 130, 246, 0.08); border-color: rgba(59, 130, 246, 0.35);">
            <span class="text-blue-300 text-xs font-semibold">Worker Agent 1</span>
            <span class="text-slate-500 text-xs">Claude Code</span>
          </div>

          <!-- Worker 2 -->
          <div class="w-28 sm:w-36 h-14 rounded-xl border flex flex-col items-center justify-center gap-0.5 px-2" style="background: rgba(59, 130, 246, 0.08); border-color: rgba(59, 130, 246, 0.35);">
            <span class="text-blue-300 text-xs font-semibold">Worker Agent 2</span>
            <span class="text-slate-500 text-xs">Claude Code</span>
          </div>
        </div>
      </div>

      <!-- Legend -->
      <div class="flex flex-wrap justify-center gap-6 mt-10 pt-8 border-t border-slate-800/60">
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-sm" style="background: rgba(59, 130, 246, 0.3); border: 1px solid rgba(59, 130, 246, 0.5);"></div>
          <span class="text-slate-400 text-xs">Frontend / UI</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-sm" style="background: rgba(139, 92, 246, 0.3); border: 1px solid rgba(139, 92, 246, 0.5);"></div>
          <span class="text-slate-400 text-xs">Backend API</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-sm" style="background: rgba(34, 211, 238, 0.3); border: 1px solid rgba(34, 211, 238, 0.5);"></div>
          <span class="text-slate-400 text-xs">Message Bus</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-sm" style="background: rgba(34, 197, 94, 0.3); border: 1px solid rgba(34, 197, 94, 0.5);"></div>
          <span class="text-slate-400 text-xs">Leader Agent</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-3 h-3 rounded-sm" style="background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.35);"></div>
          <span class="text-slate-400 text-xs">Worker Agents</span>
        </div>
      </div>
    </div>

    <!-- Supporting bullets -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 mt-10">
      <div class="flex items-start gap-3 p-4 rounded-xl border border-slate-800/60 bg-slate-900/30">
        <div class="w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5" style="background: rgba(59, 130, 246, 0.15);">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#60a5fa" stroke-width="2" stroke-linecap="round">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
          </svg>
        </div>
        <div>
          <p class="text-white text-sm font-semibold">Isolated Containers</p>
          <p class="text-slate-400 text-xs mt-1">Each agent runs in its own container with isolated file system and tools.</p>
        </div>
      </div>
      <div class="flex items-start gap-3 p-4 rounded-xl border border-slate-800/60 bg-slate-900/30">
        <div class="w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5" style="background: rgba(139, 92, 246, 0.15);">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#a78bfa" stroke-width="2" stroke-linecap="round">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
            <circle cx="12" cy="12" r="3"/>
          </svg>
        </div>
        <div>
          <p class="text-white text-sm font-semibold">Full Observability</p>
          <p class="text-slate-400 text-xs mt-1">Stream logs, agent states, and task progress via WebSocket in real time.</p>
        </div>
      </div>
      <div class="flex items-start gap-3 p-4 rounded-xl border border-slate-800/60 bg-slate-900/30">
        <div class="w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5" style="background: rgba(34, 197, 94, 0.15);">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#4ade80" stroke-width="2" stroke-linecap="round">
            <polyline points="16 18 22 12 16 6"/>
            <polyline points="8 6 2 12 8 18"/>
          </svg>
        </div>
        <div>
          <p class="text-white text-sm font-semibold">Async by Design</p>
          <p class="text-slate-400 text-xs mt-1">NATS enables non-blocking, pub/sub communication between all agents.</p>
        </div>
      </div>
    </div>
  </div>
</section>
